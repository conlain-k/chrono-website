<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- For Mobile Devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta name="generator" content="Doxygen 1.8.11"/>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <link rel="stylesheet" href='http://fonts.googleapis.com/css?family=Exo+2:400,200,700' type='text/css'>
    <title>Project Chrono: Math operations in Chrono (demo_math.cpp)</title>
    <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
    <link href="main.css" rel="stylesheet" type="text/css" />
    <!--  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"> -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="doxy-boot.js"></script>
    <script type="text/javascript" src="bootstrap-hover-dropdown.min.js"></script>
</head>
<body>
    <nav class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://projectchrono.org">
            <span class="logo first">PROJECT</span><span class="logo second">CHRONO</span>
        </a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="http://projectchrono.org/download">Download</a></li>
        <li class="dropdown">
            <a href="http://api.chrono.projectchrono.org" class="dropdown-toggle disabled" data-hover="dropdown" data-toggle="dropdown" data-delay="100" role="button" aria-haspopup="true" aria-expanded="false">Documentation <span class="caret"></span></a>
            <ul class="dropdown-menu">
                <li><a href="http://api.chrono.projectchrono.org/faq_root.html">FAQ</a></li>
                <li><a href="http://api.chrono.projectchrono.org/tutorial_table_of_content_install.html">Install Guide</a></li>
                <li><a href="http://api.chrono.projectchrono.org/tutorial_root.html">Examples/Tutorials</a></li>
                <li><a href="http://api.chrono.projectchrono.org/model_root.html">Model Library</a></li>
                <li><a href="http://api.chrono.projectchrono.org/validation_studies_root.html">Validation Studies</a></li>
                <li><a href="http://api.chrono.projectchrono.org/whitepaper_root.html">White Papers</a></li>
                <li><a href="http://projectchrono.org/docpdf">PDF Version</a></li>
            </ul>
        </li>
        <li class="dropdown">
            <a href="http://projectchrono.org/gallery/" class="dropdown-toggle disabled" data-hover="dropdown" data-toggle="dropdown" data-delay="100" role="button" style="dropdown:hover" aria-haspopup="true" aria-expanded="false">Movies <span class="caret"></span></a>
            <ul class="dropdown-menu">
                <li><a href="http://projectchrono.org/gallery/">Gallery</a></li>
                <li><a href="http://sbel.wisc.edu/Animations/">SBEL</a></li>
                <li><a href="https://vimeo.com/uwsbel">On Vimeo</a></li>
            </ul>
        </li>
        <li><a href="http://projectchrono.org/news/">News</a></li>
        <li><a href="http://projectchrono.org/forum">Forum</a></li>
		<li class="dropdown">
            <a href="http://projectchrono.org/about/" class="dropdown-toggle disabled" data-hover="dropdown" data-toggle="dropdown" data-delay="100" role="button" aria-haspopup="true" aria-expanded="false">About <span class="caret"></span></a>
            <ul class="dropdown-menu">
                <li><a href="http://projectchrono.org/about/">What is ProjectChrono</a></li>
                <li><a href="http://projectchrono.org/testimonials/">Users</a></li>
            </ul>
        </li>
        <li><a href="http://projectchrono.org/status">Status</a></li>            
            <li>
              <form method="get" action="http://projectchrono.org/search" id="search_bar_triggered">
                          <input type="submit" value="Search">
                <input type="text" id="search_bar" name="query" value="" />
              </form> 
            </li>
    </ul>
          <!-- <ul class="nav navbar-nav navbar-right">
      </ul> -->
  </div><!--/.navbar-collapse -->
</div>
</nav>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div class="content" id="content">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 panel panel-default" style="padding-bottom: 15px;">
                    <div style="margin-bottom: 15px;">
                        <!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Project Chrono API/SDK documentation</a></li><li class="navelem"><a class="el" href="manual_root.html">Reference Manual</a></li><li class="navelem"><a class="el" href="tutorial_root.html">Tutorials</a></li><li class="navelem"><a class="el" href="tutorial_table_of_content_chrono.html">Chrono core tutorials</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Math operations in Chrono (demo_math.cpp) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Tutorial on main mathematical tools:</p><ul>
<li>vectors</li>
<li>quaternions</li>
<li>matrices</li>
</ul>
<p>No GUI: only text output.</p>
<div class="fragment"><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// PROJECT CHRONO - http://projectchrono.org</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Copyright (c) 2010 Alessandro Tasora</span></div><div class="line"><span class="comment">// All rights reserved.</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div><div class="line"><span class="comment">// found in the LICENSE file at the top level of the distribution</span></div><div class="line"><span class="comment">// and at http://projectchrono.org/license-chrono.txt.</span></div><div class="line"><span class="comment">//</span></div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//   Demo on how to use Chrono mathematical</span></div><div class="line"><span class="comment">//   functions (vector math, linear algebra, etc)</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//       CHRONO</span></div><div class="line"><span class="comment">//   ------</span></div><div class="line"><span class="comment">//   Multibody dinamics engine</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// ------------------------------------------------</span></div><div class="line"><span class="comment">//             http://www.projectchrono.org</span></div><div class="line"><span class="comment">// ------------------------------------------------</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="preprocessor">#include &quot;chrono/core/ChTransform.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;chrono/core/ChMatrix.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;chrono/core/ChLog.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;chrono/core/ChVector.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;chrono/core/ChQuadrature.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;chrono/core/ChException.h&quot;</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacechrono.html">chrono</a>;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[]) {</div><div class="line">    <span class="comment">// To write something to the console, use the chrono::GetLog()</span></div><div class="line">    <span class="comment">// statement, which returns a global output stream to the console (just</span></div><div class="line">    <span class="comment">// like the std::out stream).</span></div><div class="line">    <a class="code" href="namespacechrono.html#a4fba60cf9a29db628ad96a88b60b4e00">GetLog</a>() &lt;&lt; <span class="stringliteral">&quot;CHRONO foundation classes demo: math\n\n&quot;</span>;</div><div class="line"></div><div class="line">    <span class="comment">//</span></div><div class="line">    <span class="comment">// Some examples of math, using Chrono::Engine core features.</span></div><div class="line">    <span class="comment">//</span></div><div class="line"></div><div class="line">    <span class="comment">// Use ChMatrixDynamic&lt;&gt; to create a matrix with generic size, say 12 rows x 4 columns.</span></div><div class="line">    <span class="comment">// Thank to the template argument, you can tell that you are using elements of</span></div><div class="line">    <span class="comment">// type &#39;double&#39; floating-point precision (note, leaving &lt;&gt; defaults to &lt;double&gt; )</span></div><div class="line">    <span class="comment">// If you do not worry about performance, this is the type of matrix that you can</span></div><div class="line">    <span class="comment">// use to do everything.</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix_dynamic.html">chrono::ChMatrixDynamic&lt;double&gt;</a> mh(12, 4);</div><div class="line"></div><div class="line">    <span class="comment">// Use ChMatrixNM&lt;&gt; to create matrices that do not need to be resized, and</span></div><div class="line">    <span class="comment">// whose size is known at compile-time. Columns x rows are passed in template &lt;..&gt; brackets.</span></div><div class="line">    <span class="comment">// Although the functionalities are the same of ChMatrixDynamic&lt;&gt;, this type</span></div><div class="line">    <span class="comment">// of matrix has better performance (but avoid using it for large sizes, because</span></div><div class="line">    <span class="comment">// it is allocated on stack).</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix_n_m.html">chrono::ChMatrixNM&lt;double, 4, 4&gt;</a> mm;</div><div class="line"></div><div class="line">    <span class="comment">// Use ChMatrix33&lt;&gt; to create 3x3 matrices, mostly used for coordinate transformations.</span></div><div class="line">    <span class="comment">// It inherits the same high-performance features of ChMatrixNM&lt;&gt;, but also offers special</span></div><div class="line">    <span class="comment">// functions for coordinate and rotation operations.</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix33.html">chrono::ChMatrix33&lt;&gt;</a> ma;</div><div class="line"></div><div class="line">    <span class="comment">// Fill a matrix with an element</span></div><div class="line">    mm.<a class="code" href="classchrono_1_1_ch_matrix.html#a19cfe072f47c96016a81d5765d0f2a77">FillElem</a>(0.1);</div><div class="line"></div><div class="line">    <span class="comment">// Print a matrix to cout (ex. the console, if open)</span></div><div class="line">    mm.<a class="code" href="classchrono_1_1_ch_matrix.html#a42c4d3dcbb46a28e880c64fdbb9c3499">StreamOUT</a>(<a class="code" href="namespacechrono.html#a4fba60cf9a29db628ad96a88b60b4e00">GetLog</a>());</div><div class="line"></div><div class="line">    <span class="comment">// Create a 5x7 random matrix</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix_dynamic.html">chrono::ChMatrixDynamic&lt;&gt;</a> me(5, 7);</div><div class="line">    me.FillRandom(-1, 2);</div><div class="line"></div><div class="line">    <span class="comment">// Transpose the matrix in place</span></div><div class="line">    me.MatrTranspose();</div><div class="line"></div><div class="line">    <span class="comment">// Resets the matrix to zero (and modify size, if necessary).</span></div><div class="line">    me.Reset(2, 2);</div><div class="line"></div><div class="line">    <span class="comment">// Create a diagonal matrix</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix_dynamic.html">chrono::ChMatrixDynamic&lt;&gt;</a> md(4, 4);</div><div class="line">    md.FillDiag(3);</div><div class="line"></div><div class="line">    <span class="comment">// Use the () operator to reference single elements</span></div><div class="line">    md(0, 0) = 10;</div><div class="line">    md(1, 2) = md(0, 0) + md(1, 1);</div><div class="line">    md.Element(2, 2) = 4;  <span class="comment">// The md.Element(.,.) function has the same effect as md(.,.)</span></div><div class="line"></div><div class="line">    <span class="comment">// Copy constructor</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix_dynamic.html">chrono::ChMatrixDynamic&lt;&gt;</a> ma1(md);</div><div class="line"></div><div class="line">    <span class="comment">// The - unary operator returns a negated matrix</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix_dynamic.html">chrono::ChMatrixDynamic&lt;&gt;</a> ma2(-mm);</div><div class="line"></div><div class="line">    <span class="comment">// A late copy - matrix will be resized if necessary</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix_dynamic.html">chrono::ChMatrixDynamic&lt;&gt;</a> ma3(8, 4);</div><div class="line">    ma3.CopyFromMatrix(ma1);</div><div class="line"></div><div class="line">    <span class="comment">// Transposed copy.</span></div><div class="line">    <span class="comment">// This is faster than doing: ma3.CopyFromMatrix(ma2); ma3.MatrTranspose();</span></div><div class="line">    ma3.CopyFromMatrixT(ma1);</div><div class="line"></div><div class="line">    <span class="comment">// Use the + * -  *= += -=  operators to perform matrix algebra.</span></div><div class="line">    <span class="comment">// WARNING: + - *  operators may introduce overhead because they may instance temporary</span></div><div class="line">    <span class="comment">//          matrix objects as intermediate results. Use *= -= +=  operators whenever possible,</span></div><div class="line">    <span class="comment">//          or use the specific Add() Multiply() functions, for max computational speed.</span></div><div class="line"></div><div class="line">    <span class="comment">// Note: size of result is automatically set because of copy constructor</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix_dynamic.html">chrono::ChMatrixDynamic&lt;&gt;</a> result(ma1 + ma2);</div><div class="line"></div><div class="line">    <span class="comment">// Using the assignment operator (size of result may be automatically reset)</span></div><div class="line">    result = ma1 + ma2;</div><div class="line"></div><div class="line">    <span class="comment">// Another way to do operations (more intricated, but allows higher performances)</span></div><div class="line">    <span class="comment">// Note that, doing this, you must prepare &#39;result&#39; with already exact column/row size!</span></div><div class="line">    result.MatrAdd(ma1, ma2);</div><div class="line"></div><div class="line">    <span class="comment">// You can also use the += operator (often this minimizes the need of intermediate temp.matrices)</span></div><div class="line">    result = ma1;</div><div class="line">    result += ma2;</div><div class="line"></div><div class="line">    <span class="comment">// Different ways to do subtraction..</span></div><div class="line"></div><div class="line">    result = ma1 - ma2;</div><div class="line"></div><div class="line">    result.MatrSub(ma1, ma2);</div><div class="line"></div><div class="line">    result = ma1;</div><div class="line">    result -= ma2;</div><div class="line"></div><div class="line">    <span class="comment">// Multiplications between two matrices, different methods..</span></div><div class="line"></div><div class="line">    result = ma1 * ma2;</div><div class="line"></div><div class="line">    result.MatrMultiply(ma1, ma2);</div><div class="line"></div><div class="line">    <span class="comment">// Multiplication between matrix and scalars, different methods..</span></div><div class="line"></div><div class="line">    result = ma1 * 10;</div><div class="line"></div><div class="line">    result = ma1;</div><div class="line">    result.MatrScale(10);</div><div class="line">    <a class="code" href="namespacechrono.html#a4fba60cf9a29db628ad96a88b60b4e00">GetLog</a>() &lt;&lt; result;</div><div class="line"></div><div class="line">    result = ma1;</div><div class="line">    result *= 10;</div><div class="line">    <a class="code" href="namespacechrono.html#a4fba60cf9a29db628ad96a88b60b4e00">GetLog</a>() &lt;&lt; result;</div><div class="line"></div><div class="line">    <span class="comment">// The dot multiplication</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix_dynamic.html">chrono::ChMatrixDynamic&lt;&gt;</a> mmv1(5, 1);</div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix_dynamic.html">chrono::ChMatrixDynamic&lt;&gt;</a> mmv2(5, 1);</div><div class="line">    mmv1.FillRandom(1, 3);</div><div class="line">    mmv2.FillRandom(2, 4);</div><div class="line">    <span class="keywordtype">double</span> mdot = <a class="code" href="classchrono_1_1_ch_matrix.html#a164c76f3adacdfce75f12d33318e1b86">chrono::ChMatrix&lt;&gt;::MatrDot</a>(&amp;mmv1, &amp;mmv2);</div><div class="line"></div><div class="line">    <span class="comment">// The comparison</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix_dynamic.html">chrono::ChMatrixDynamic&lt;&gt;</a> mmv3(mmv2);</div><div class="line">    <span class="keywordflow">if</span> (mmv2 == mmv3)</div><div class="line">        <a class="code" href="namespacechrono.html#a4fba60cf9a29db628ad96a88b60b4e00">GetLog</a>() &lt;&lt; <span class="stringliteral">&quot;Matrices are exactly equal \n&quot;</span>;</div><div class="line"></div><div class="line">    <span class="comment">// Tolerance comparison</span></div><div class="line">    mmv3.Element(2, 0) += 0.001;</div><div class="line">    <span class="keywordflow">if</span> (mmv2.Equals(mmv3, 0.002))</div><div class="line">        <a class="code" href="namespacechrono.html#a4fba60cf9a29db628ad96a88b60b4e00">GetLog</a>() &lt;&lt; <span class="stringliteral">&quot;Matrices are equal within tol 0.002 \n&quot;</span>;</div><div class="line"></div><div class="line">    <a class="code" href="classchrono_1_1_ch_vector.html">chrono::Vector</a> mvect(1, 2, 3);</div><div class="line">    <a class="code" href="classchrono_1_1_ch_quaternion.html">chrono::Quaternion</a> mquat(1, 2, 3, 4);</div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix33.html">chrono::ChMatrix33&lt;&gt;</a> mta1;</div><div class="line">    mta1.<a class="code" href="classchrono_1_1_ch_matrix.html#aed55971506506c1dc21f822bd451fc72">FillRandom</a>(-1, 2);</div><div class="line"></div><div class="line">    <span class="comment">// Vector transformation, typical product  [A]*v</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_vector.html">chrono::Vector</a> vres = mta1.<a class="code" href="classchrono_1_1_ch_matrix33.html#a8e4c82bf3593277d238ea6cea7b667ff">Matr_x_Vect</a>(mvect);</div><div class="line"></div><div class="line">    <span class="comment">// Also with more compact syntax: operator * between matrix and vector..</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_vector.html">chrono::Vector</a> vres2 = mta1 * mvect;</div><div class="line">    <span class="keywordflow">if</span> (vres == vres2)</div><div class="line">        <a class="code" href="namespacechrono.html#a4fba60cf9a29db628ad96a88b60b4e00">GetLog</a>() &lt;&lt; <span class="stringliteral">&quot;vectors are equal \n&quot;</span>;</div><div class="line"></div><div class="line">    <span class="comment">// .. same, but transposed matrix</span></div><div class="line">    vres = mta1.<a class="code" href="classchrono_1_1_ch_matrix33.html#ad01a4f98830794c6ce033afa38bba3c4">MatrT_x_Vect</a>(mvect);</div><div class="line"></div><div class="line">    <span class="comment">// Custom multiplication functions for 3x4 matrices and quaternions:</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix_n_m.html">chrono::ChMatrixNM&lt;double, 3, 4&gt;</a> mgl;</div><div class="line">    mgl.<a class="code" href="classchrono_1_1_ch_matrix.html#aed55971506506c1dc21f822bd451fc72">FillRandom</a>(-1, 2);</div><div class="line">    vres = mgl.<a class="code" href="classchrono_1_1_ch_matrix.html#adedf04caa91f428c1e817ad5f73b1726">Matr34_x_Quat</a>(mquat);</div><div class="line"></div><div class="line">    <a class="code" href="classchrono_1_1_ch_quaternion.html">chrono::Quaternion</a> qres = mgl.<a class="code" href="classchrono_1_1_ch_matrix.html#a9799a01174de21819bda5618c7bb47b8">Matr34T_x_Vect</a>(mvect);</div><div class="line"></div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix_n_m.html">chrono::ChMatrixNM&lt;double, 4, 4&gt;</a> mxq;</div><div class="line">    mxq.<a class="code" href="classchrono_1_1_ch_matrix.html#aed55971506506c1dc21f822bd451fc72">FillRandom</a>(-1, 2);</div><div class="line">    qres = mxq.<a class="code" href="classchrono_1_1_ch_matrix.html#a7661b717172bc320d80b98a1c8c18d26">Matr44_x_Quat</a>(mquat);</div><div class="line"></div><div class="line">    <span class="comment">// How to use the ChTransform or ChCoordsys functions to transform points</span></div><div class="line">    <span class="comment">// from/to local coordinates in 3D:</span></div><div class="line"></div><div class="line">    <a class="code" href="classchrono_1_1_ch_vector.html">chrono::Vector</a> mvect2;</div><div class="line">    <a class="code" href="classchrono_1_1_ch_vector.html">chrono::Vector</a> mvect2b;</div><div class="line">    <a class="code" href="classchrono_1_1_ch_vector.html">chrono::Vector</a> mvect1(2, 3, 4);        <span class="comment">// local point to transform</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_vector.html">chrono::Vector</a> vtraslA(5, 6, 7);       <span class="comment">// translation of coordsystem</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_quaternion.html">chrono::Quaternion</a> qrotA(1, 3, 4, 5);  <span class="comment">// rotation of coordsys.(as unit quaternion, must be normalized)</span></div><div class="line">    qrotA.Normalize();</div><div class="line"></div><div class="line">    <span class="comment">// given a quaternion, sets the corresponding [A] rotation matrix</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix33.html">chrono::ChMatrix33&lt;&gt;</a> mrotA;</div><div class="line">    mrotA.<a class="code" href="classchrono_1_1_ch_matrix33.html#a7d1623df5cd70601608e02c382a064f0">Set_A_quaternion</a>(qrotA);</div><div class="line"></div><div class="line">    <span class="comment">// ..you may use also a coordsystem object, representing both</span></div><div class="line">    <span class="comment">// translation and rotation.</span></div><div class="line">    <a class="code" href="classchrono_1_1_ch_coordsys.html">chrono::Coordsys</a> csysA(vtraslA, qrotA);</div><div class="line"></div><div class="line">    <span class="comment">// Now perform the transformation, like in v&#39;=t+[A]*v</span></div><div class="line">    <span class="comment">// NOTE: all the following ways will give the same result, so you</span></div><div class="line">    <span class="comment">// can use them equivalently!</span></div><div class="line">    <span class="comment">// (the 1st method however is a bit faster..)</span></div><div class="line"></div><div class="line">    mvect2 = <a class="code" href="classchrono_1_1_ch_transform.html#ab2c5414c62fc9f2ecaf2ff72ae3d913b">chrono::ChTransform&lt;&gt;::TransformLocalToParent</a>(mvect1, vtraslA, mrotA);</div><div class="line"></div><div class="line">    mvect2 = <a class="code" href="classchrono_1_1_ch_transform.html#ab2c5414c62fc9f2ecaf2ff72ae3d913b">chrono::ChTransform&lt;&gt;::TransformLocalToParent</a>(mvect1, vtraslA, qrotA);</div><div class="line"></div><div class="line">    mvect2 = csysA.TransformLocalToParent(mvect1);</div><div class="line"></div><div class="line">    mvect2 = vtraslA + mrotA * mvect1;</div><div class="line"></div><div class="line">    <span class="comment">// How to use Gauss-Legendre quadrature to compute integrals</span></div><div class="line">    <span class="comment">// of functions in 1D/2D/3D</span></div><div class="line"></div><div class="line">    <span class="comment">// Define a y=f(x) function by inheriting ChIntegrable1D:</span></div><div class="line">    <span class="keyword">class </span>MySine1d : <span class="keyword">public</span> <a class="code" href="classchrono_1_1_ch_integrable1_d.html">ChIntegrable1D</a>&lt;double&gt; {</div><div class="line">      <span class="keyword">public</span>:</div><div class="line">        <span class="keywordtype">void</span> Evaluate(<span class="keywordtype">double</span>&amp; result, <span class="keyword">const</span> <span class="keywordtype">double</span> x) { result = sin(x); }</div><div class="line">    };</div><div class="line">    <span class="comment">// Create an object from the function class</span></div><div class="line">    MySine1d mfx;</div><div class="line">    <span class="comment">// Invoke 6th order Gauss-Legendre quadrature on 0..PI interval:</span></div><div class="line">    <span class="keywordtype">double</span> qresult;</div><div class="line">    ChQuadrature::Integrate1D&lt;double&gt;(qresult, mfx, 0, CH_C_PI, 6);</div><div class="line"></div><div class="line">    <a class="code" href="namespacechrono.html#a4fba60cf9a29db628ad96a88b60b4e00">GetLog</a>() &lt;&lt; <span class="stringliteral">&quot;Quadrature 1d result:&quot;</span> &lt;&lt; qresult &lt;&lt; <span class="stringliteral">&quot; (analytic solution: 2.0) \n&quot;</span>;</div><div class="line"></div><div class="line">    <span class="comment">// Other quadrature tests, this time in 2D</span></div><div class="line"></div><div class="line">    <span class="keyword">class </span>MySine2d : <span class="keyword">public</span> <a class="code" href="classchrono_1_1_ch_integrable2_d.html">ChIntegrable2D</a>&lt;double&gt; {</div><div class="line">      <span class="keyword">public</span>:</div><div class="line">        <span class="keywordtype">void</span> Evaluate(<span class="keywordtype">double</span>&amp; result, <span class="keyword">const</span> <span class="keywordtype">double</span> x, <span class="keyword">const</span> <span class="keywordtype">double</span> y) { result = sin(x); }</div><div class="line">    };</div><div class="line"></div><div class="line">    MySine2d mfx2d;</div><div class="line">    ChQuadrature::Integrate2D&lt;double&gt;(qresult, mfx2d, 0, CH_C_PI, -1, 1, 6);</div><div class="line">    <a class="code" href="namespacechrono.html#a4fba60cf9a29db628ad96a88b60b4e00">GetLog</a>() &lt;&lt; <span class="stringliteral">&quot;Quadrature 2d result:&quot;</span> &lt;&lt; qresult &lt;&lt; <span class="stringliteral">&quot; (analytic solution: 4.0) \n&quot;</span>;</div><div class="line"></div><div class="line">    <span class="comment">// Other quadrature tests, this time with vector function</span></div><div class="line">    <span class="comment">// (that is, integrates 2x1 matrix)</span></div><div class="line"></div><div class="line">    <span class="keyword">class </span>MySine2dM : <span class="keyword">public</span> <a class="code" href="classchrono_1_1_ch_integrable2_d.html">ChIntegrable2D</a>&lt;ChMatrixNM&lt;double, 2, 1&gt; &gt; {</div><div class="line">      <span class="keyword">public</span>:</div><div class="line">        <span class="keywordtype">void</span> Evaluate(<a class="code" href="classchrono_1_1_ch_matrix_n_m.html">ChMatrixNM&lt;double, 2, 1&gt;</a>&amp; result, <span class="keyword">const</span> <span class="keywordtype">double</span> x, <span class="keyword">const</span> <span class="keywordtype">double</span> y) {</div><div class="line">            result(0) = x * y;</div><div class="line">            result(1) = 0.5 * y * y;</div><div class="line">        }</div><div class="line">    };</div><div class="line"></div><div class="line">    MySine2dM mfx2dM;</div><div class="line">    <a class="code" href="classchrono_1_1_ch_matrix_n_m.html">ChMatrixNM&lt;double, 2, 1&gt;</a> resultM;</div><div class="line">    ChQuadrature::Integrate2D&lt;ChMatrixNM&lt;double, 2, 1&gt; &gt;(resultM, mfx2dM, 0, 1, 0, 3, 6);</div><div class="line">    <a class="code" href="namespacechrono.html#a4fba60cf9a29db628ad96a88b60b4e00">GetLog</a>() &lt;&lt; <span class="stringliteral">&quot;Quadrature 2d matrix result:&quot;</span> &lt;&lt; resultM &lt;&lt; <span class="stringliteral">&quot; (analytic solution: 2.25, 4.5) \n&quot;</span>;</div><div class="line"></div><div class="line">    <a class="code" href="namespacechrono.html#a4fba60cf9a29db628ad96a88b60b4e00">GetLog</a>() &lt;&lt; <span class="stringliteral">&quot;\n  CHRONO execution terminated.&quot;</span>;</div><div class="line"></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 1 2016 15:43:10 for Project Chrono by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11 . <a href="mailto:info@projectchrono.org">Contact us</a> for issues related to this page. 
</small></address>
</body>
</html>
