<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- For Mobile Devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta name="generator" content="Doxygen 1.8.11"/>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <link rel="stylesheet" href='http://fonts.googleapis.com/css?family=Exo+2:400,200,700' type='text/css'>
    <title>Project Chrono: GNUplot example (demo_gnuplot.cpp)</title>
    <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
    <link href="main.css" rel="stylesheet" type="text/css" />
    <!--  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"> -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="doxy-boot.js"></script>
    <script type="text/javascript" src="bootstrap-hover-dropdown.min.js"></script>
</head>
<body>
    <nav class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://projectchrono.org">
            <span class="logo first">PROJECT</span><span class="logo second">CHRONO</span>
        </a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="http://projectchrono.org/download">Download</a></li>
        <li class="dropdown">
            <a href="http://api.chrono.projectchrono.org" class="dropdown-toggle disabled" data-hover="dropdown" data-toggle="dropdown" data-delay="100" role="button" aria-haspopup="true" aria-expanded="false">Documentation <span class="caret"></span></a>
            <ul class="dropdown-menu">
                <li><a href="http://api.chrono.projectchrono.org/faq_root.html">FAQ</a></li>
                <li><a href="http://api.chrono.projectchrono.org/tutorial_table_of_content_install.html">Install Guide</a></li>
                <li><a href="http://api.chrono.projectchrono.org/tutorial_root.html">Examples/Tutorials</a></li>
                <li><a href="http://api.chrono.projectchrono.org/model_root.html">Model Library</a></li>
                <li><a href="http://api.chrono.projectchrono.org/validation_studies_root.html">Validation Studies</a></li>
                <li><a href="http://api.chrono.projectchrono.org/whitepaper_root.html">White Papers</a></li>
                <li><a href="http://projectchrono.org/docpdf">PDF Version</a></li>
            </ul>
        </li>
        <li class="dropdown">
            <a href="http://projectchrono.org/gallery/" class="dropdown-toggle disabled" data-hover="dropdown" data-toggle="dropdown" data-delay="100" role="button" style="dropdown:hover" aria-haspopup="true" aria-expanded="false">Movies <span class="caret"></span></a>
            <ul class="dropdown-menu">
                <li><a href="http://projectchrono.org/gallery/">Gallery</a></li>
                <li><a href="http://sbel.wisc.edu/Animations/">SBEL</a></li>
                <li><a href="https://vimeo.com/uwsbel">On Vimeo</a></li>
            </ul>
        </li>
        <li><a href="http://projectchrono.org/news/">News</a></li>
        <li><a href="http://projectchrono.org/forum">Forum</a></li>
		<li class="dropdown">
            <a href="http://projectchrono.org/about/" class="dropdown-toggle disabled" data-hover="dropdown" data-toggle="dropdown" data-delay="100" role="button" aria-haspopup="true" aria-expanded="false">About <span class="caret"></span></a>
            <ul class="dropdown-menu">
                <li><a href="http://projectchrono.org/about/">What is ProjectChrono</a></li>
                <li><a href="http://projectchrono.org/testimonials/">Users</a></li>
            </ul>
        </li>
        <li><a href="http://projectchrono.org/status">Status</a></li>            
            <li>
              <form method="get" action="http://projectchrono.org/search" id="search_bar_triggered">
                          <input type="submit" value="Search">
                <input type="text" id="search_bar" name="query" value="" />
              </form> 
            </li>
    </ul>
          <!-- <ul class="nav navbar-nav navbar-right">
      </ul> -->
  </div><!--/.navbar-collapse -->
</div>
</nav>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div class="content" id="content">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 panel panel-default" style="padding-bottom: 15px;">
                    <div style="margin-bottom: 15px;">
                        <!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Project Chrono API/SDK documentation</a></li><li class="navelem"><a class="el" href="manual_root.html">Reference Manual</a></li><li class="navelem"><a class="el" href="tutorial_root.html">Tutorials</a></li><li class="navelem"><a class="el" href="tutorial_table_of_content_chrono_postprocessing.html">Chrono POSTPROCESSING module tutorials</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">GNUplot example (demo_gnuplot.cpp) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Tutorial that teaches how to use the POSTPROCESSING module to create graphs with <a href="http://www.gnuplot.info">GNUPLOT</a>.</p>
<p>There is a ChGnuPlot class that helps you to create .gpl gnuplot scripts directly from your cpp program.</p>
<p>Of course you could create the gpl script by yourself, save a .dat file from your program, and then launch gnuplot by hand, but this class generates the script for you and makes the graph creation easier. Also, it automatically calls gnuplot.</p>
<p>There are two prerequisites:</p>
<ul>
<li><a href="http://www.gnuplot.info">GNUPLOT</a> must be installed on your computer. We support releases from v.4.6. You can install either 32 or 64 bit versions from their site.</li>
<li>the <code>gnuplot</code> command must be accessible from the shell. On Linux, Unix etc. this is ok by default. On Windows, you must remember to add the bin/ directory of <code>gnuplot.exe</code> to your PATH. That is, if all is ok, when you type <code>gnuplot</code> in your cmd window, the gnuplot should start.</li>
</ul>
<p>In the following you can see some examples of using the ChGnuPlot class.</p>
<h1>Example 1</h1>
<p>The most low-level way of using the ChGnuPlot class: use the the SetCommand() or alternatively the &lt;&lt; operator, to build the .gpl script.</p>
<p>Such script will be saved on disk with the specified .gpl name.</p>
<div class="fragment"><div class="line">ChGnuPlot mplot(<span class="stringliteral">&quot;__tmp_gnuplot_1.gpl&quot;</span>);</div><div class="line">mplot &lt;&lt; <span class="stringliteral">&quot;set contour&quot;</span>;</div><div class="line">mplot &lt;&lt; <span class="stringliteral">&quot;set title &#39;Demo of specifying discrete contour levels&#39;&quot;</span>;</div><div class="line">mplot &lt;&lt; <span class="stringliteral">&quot;splot x*y&quot;</span>;</div></div><!-- fragment --><p>When the mplot object goes out of scope and is deleted at the end of this example, the script is saved on disk and GNUplot is launched.</p>
<p>You should see the following windows that opens:</p>
<div class="image">
<img src="http://projectchrono.org/assets/manual/Tutorial_gnuplot1.png" />
</div>
<div class="ce-info"> Troubleshooting. If you do not see the window opening, check the following: <br />
 ... if you open a shell (a DOS cmd window in Windows) and type <code>gnuplot</code>, does gnuplot start? If the program is not found, you should install gnuplot. <br />
 ... make sure you can access it from the shell (add it to your PATH in windows) <br />
 ... in case the .gpl command script contains errors, you can see which is the offending statement by opening a shell, go to the current working directory of the demo_gnuplot executable using cd, and entering <code>gnuplot __tmp_gnuplot_1.gpl</code> where __tmp_gnuplot_1.gpl is the name of the gpl file, here is for this example. When executed it will prompt script errors, if any. </div><h1>Example 2</h1>
<p>Learn how to use the Open... functions to define the output terminal. The gnuplot utility can create plots in windows, or it can save them as EPS or JPG or PNG or other formats.</p>
<p>This is a demo that opens two plots in two windows and save the second to an EPS file too.</p>
<p>Note that we use <code>SetGrid()</code>, <code>SetLabelX()</code>, <code>SetLabelY()</code>. There are other functions like these. They are shortcuts to alleviate you from entering complex gnuplot commands. For instance <code>mplot.SetLabelX("x");</code> is equivalent to <code>mplot &lt;&lt; "set xlabel \\"x\"";</code>, etc.</p>
<div class="fragment"><div class="line">ChGnuPlot mplot(<span class="stringliteral">&quot;__tmp_gnuplot_2.gpl&quot;</span>);</div><div class="line">mplot.SetGrid();</div></div><!-- fragment --><p>Then we redirect a first plot to a window n.0:</p>
<div class="fragment"><div class="line">mplot.OutputWindow(0);</div><div class="line">mplot.SetLabelX(<span class="stringliteral">&quot;x&quot;</span>);</div><div class="line">mplot.SetLabelY(<span class="stringliteral">&quot;y&quot;</span>);</div><div class="line">mplot &lt;&lt; <span class="stringliteral">&quot;plot [-30:20] besj0(x)*0.12e1 with impulses, (x**besj0(x))-2.5 with points&quot;</span>;</div></div><!-- fragment --><p>We redirect a following plot to a window n.1:</p>
<div class="fragment"><div class="line">mplot.OutputWindow(1);</div><div class="line">mplot.SetLabelX(<span class="stringliteral">&quot;v&quot;</span>);</div><div class="line">mplot.SetLabelY(<span class="stringliteral">&quot;w&quot;</span>);</div><div class="line">mplot &lt;&lt; <span class="stringliteral">&quot;plot [-10:10] real(sin(x)**besj0(x))&quot;</span>;</div></div><!-- fragment --><p>Finally we redirect a plot to an .EPS Postscript file, that can be used, for example, in LaTeX documents. Note that here we do not issue another plot command, but we rather use <code>Replot()</code>, that repeats the last plot command (the one of the window n.1).</p>
<div class="fragment"><div class="line">mplot.OutputEPS(<span class="stringliteral">&quot;test_eps.eps&quot;</span>);</div><div class="line">mplot.Replot(); <span class="comment">// repeat last plot</span></div></div><!-- fragment --><p>You should see the following two plots in two separate windows:</p>
<div class="image">
<img src="http://projectchrono.org/assets/manual/Tutorial_gnuplot2.png" />
</div>
<div class="image">
<img src="http://projectchrono.org/assets/manual/Tutorial_gnuplot3.png" />
</div>
<h1>Example 3</h1>
<p>Learn how to use the <code>Plot()</code> shortcut functions, for easy plotting from a .dat file (an ascii file with column ordered data).</p>
<p>Of course you could do this by just adding gnuplot commands such as</p>
<div class="fragment"><div class="line">mplot &lt;&lt; <span class="stringliteral">&quot;plot \&quot;test_gnuplot_data.dat\&quot; 1:2 </span></div></div><!-- fragment --><p>etc., but the <code>Plot()</code> functions make this easier.</p>
<p>Step 1: create a .dat file with three columns of demo data:</p>
<div class="fragment"><div class="line">ChStreamOutAsciiFile mdatafile(<span class="stringliteral">&quot;test_gnuplot_data.dat&quot;</span>);</div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">double</span> x = 0; x&lt;10; x+=0.1)</div><div class="line">   mdatafile &lt;&lt; x &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; sin(x) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span>  &lt;&lt; cos(x) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div></div><!-- fragment --><p>Step 2: Create the plot.</p>
<p>Note the Plot() shortcut: In this case you pass the .dat filename, the columns IDs, title and custom settings that define the plotting line type, width, etc. (see the gnuplot documentation)</p>
<div class="fragment"><div class="line">ChGnuPlot mplot(<span class="stringliteral">&quot;__tmp_gnuplot_3.gpl&quot;</span>);</div><div class="line">mplot.SetGrid();</div><div class="line">mplot.SetLabelX(<span class="stringliteral">&quot;x&quot;</span>);</div><div class="line">mplot.SetLabelY(<span class="stringliteral">&quot;y&quot;</span>);</div><div class="line">mplot.Plot(<span class="stringliteral">&quot;test_gnuplot_data.dat&quot;</span>, 1,2, <span class="stringliteral">&quot;sine&quot;</span>,   <span class="stringliteral">&quot; with lines lt -1 lw 2&quot;</span>);</div></div><!-- fragment --><p>Note that you can have multiple Plot() calls for a single Output, they will be overlapped as when you use commas in gnuplot: <code>plot ... , ... , ...</code>. For instance, here overlap a 2nd plot to the previous one:</p>
<div class="fragment"><div class="line">mplot.Plot(<span class="stringliteral">&quot;test_gnuplot_data.dat&quot;</span>, 1,3, <span class="stringliteral">&quot;cosine&quot;</span>, <span class="stringliteral">&quot; with lines lt 2 lw 2&quot;</span>);</div></div><!-- fragment --><p>You should see the following plot:</p>
<div class="image">
<img src="http://projectchrono.org/assets/manual/Tutorial_gnuplot4.png" />
</div>
<h1>Example 4</h1>
<p>To make things even simpler, the Plot() shortcut function can be used directly on embedded data, without needing to save a .dat file.</p>
<p>One can use, for instance:</p><ul>
<li>a pair of x,y vectors (use ChVectorDynamic column matrices),</li>
<li>ChFunction y(x) objects,</li>
<li>ChFunction_Recorder and ChFunction_Oscilloscope objects, that are optimized for recording xy pairs,</li>
<li>columns from a ChMatrix, etc.</li>
</ul>
<p>The data values will be saved <em>embedded</em> in the .gpl file.</p>
<p>Note, the Replot() command does not work with embedded data.</p>
<p>Let's begin with creating some example data:</p>
<div class="fragment"><div class="line"><span class="comment">//create demo data in a pair of x,y vectors</span></div><div class="line">ChVectorDynamic&lt;&gt; mx(100);</div><div class="line">ChVectorDynamic&lt;&gt; my(100);</div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;100; ++i)</div><div class="line">{</div><div class="line">        <span class="keywordtype">double</span> x = ((double)i/100.0)*12;</div><div class="line">        <span class="keywordtype">double</span> y = sin(x)*exp(-x*0.2);</div><div class="line">        mx(i)=x;</div><div class="line">        my(i)=y;</div><div class="line">}</div><div class="line"><span class="comment">// ..or create demo data in a ChFunction_Recorder</span></div><div class="line">ChFunction_Recorder mfun;</div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;100; ++i)</div><div class="line">{</div><div class="line">        <span class="keywordtype">double</span> x = ((double)i/100.0)*12;</div><div class="line">        <span class="keywordtype">double</span> y = cos(x)*exp(-x*0.4);</div><div class="line">        mfun.AddPoint(x,y);</div><div class="line">}</div><div class="line"><span class="comment">// ..or create demo data in two columns of a ChMatrix</span></div><div class="line">ChMatrixDynamic&lt;&gt; matr(100,10);</div><div class="line"><span class="keywordflow">for</span> (<span class="keywordtype">int</span> i=0; i&lt;100; ++i)</div><div class="line">{</div><div class="line">        <span class="keywordtype">double</span> x = ((double)i/100.0)*12;</div><div class="line">        <span class="keywordtype">double</span> y = cos(x)*exp(-x*0.4);</div><div class="line">        matr(i,2)=x;</div><div class="line">        matr(i,6)=y*0.4;</div><div class="line">}</div></div><!-- fragment --><p>Now create the plot. Note the Plot() shortcuts.</p>
<div class="fragment"><div class="line">ChGnuPlot mplot(<span class="stringliteral">&quot;__tmp_gnuplot_4.gpl&quot;</span>);</div><div class="line">mplot.SetGrid();</div><div class="line">mplot.Plot(mx,my, <span class="stringliteral">&quot;from x,y ChVectorDynamic&quot;</span>,  <span class="stringliteral">&quot; every 5 pt 1 ps 0.5&quot;</span>);</div><div class="line">mplot.Plot(mfun,  <span class="stringliteral">&quot;from ChFunction_Recorder&quot;</span>,  <span class="stringliteral">&quot; with lines lt -1 lc rgb&#39;#00AAEE&#39; &quot;</span>);</div><div class="line">mplot.Plot(matr,   2,6, <span class="stringliteral">&quot;from ChMatrix&quot;</span>, <span class="stringliteral">&quot; with lines lt 5&quot;</span>);</div></div><!-- fragment --><p>You should see the following plot:</p>
<div class="image">
<img src="http://projectchrono.org/assets/manual/Tutorial_gnuplot5.png" />
</div>
<div class="fragment"><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// PROJECT CHRONO - http://projectchrono.org</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Copyright (c) 2010 Alessandro Tasora</span></div><div class="line"><span class="comment">// Copyright (c) 2013 Project Chrono</span></div><div class="line"><span class="comment">// All rights reserved.</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">// Use of this source code is governed by a BSD-style license that can be</span></div><div class="line"><span class="comment">// found in the LICENSE file at the top level of the distribution</span></div><div class="line"><span class="comment">// and at http://projectchrono.org/license-chrono.txt.</span></div><div class="line"><span class="comment">//</span></div><div class="line"></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment">//   Demo on using GNUplot for plotting graphs</span></div><div class="line"><span class="comment">//</span></div><div class="line"><span class="comment"></span></div><div class="line"><span class="preprocessor">#include &lt;math.h&gt;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;chrono/core/ChLog.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;chrono/core/ChVectorDynamic.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;chrono/motion_functions/ChFunction_Recorder.h&quot;</span></div><div class="line"><span class="preprocessor">#include &quot;chrono/motion_functions/ChFunction_Sine.h&quot;</span></div><div class="line"></div><div class="line"><span class="preprocessor">#include &quot;chrono_postprocess/ChGnuPlot.h&quot;</span></div><div class="line"></div><div class="line"><span class="keyword">using namespace </span><a class="code" href="namespacechrono.html">chrono</a>;</div><div class="line"><span class="keyword">using namespace </span>postprocess;</div><div class="line"></div><div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc, <span class="keywordtype">char</span>* argv[]) {</div><div class="line">    <a class="code" href="namespacechrono.html#a4fba60cf9a29db628ad96a88b60b4e00">GetLog</a>() &lt;&lt; <span class="stringliteral">&quot;CHRONO demo that launches GNUplot for plotting graphs: \n\n&quot;</span>;</div><div class="line"></div><div class="line">    {</div><div class="line">        <span class="comment">//</span></div><div class="line">        <span class="comment">// EXAMPLE 1</span></div><div class="line">        <span class="comment">//</span></div><div class="line"></div><div class="line">        <span class="comment">// The most low-level way of using the ChGnuPlot class:</span></div><div class="line">        <span class="comment">// use the the SetCommand() or alternatively &lt;&lt; , to build the script file.</span></div><div class="line"></div><div class="line">        ChGnuPlot mplot(<span class="stringliteral">&quot;__tmp_gnuplot_1.gpl&quot;</span>);</div><div class="line">        mplot &lt;&lt; <span class="stringliteral">&quot;set contour&quot;</span>;</div><div class="line">        mplot &lt;&lt; <span class="stringliteral">&quot;set title &#39;Demo of specifying discrete contour levels&#39;&quot;</span>;</div><div class="line">        mplot &lt;&lt; <span class="stringliteral">&quot;splot x*y&quot;</span>;</div><div class="line"></div><div class="line">        <span class="comment">// When the mplot object goes out of scope and is deleted at the end of this example, the</span></div><div class="line">        <span class="comment">// script is saved on disk and GNUplot is launched.</span></div><div class="line">    }</div><div class="line"></div><div class="line">    {</div><div class="line">        <span class="comment">//</span></div><div class="line">        <span class="comment">// EXAMPLE 2</span></div><div class="line">        <span class="comment">//</span></div><div class="line"></div><div class="line">        <span class="comment">// Use the Open... functions to define the output terminal.</span></div><div class="line">        <span class="comment">// Open two plots in two windows and save the second to an EPS file too.</span></div><div class="line">        <span class="comment">// Learn shortcut calls:</span></div><div class="line">        <span class="comment">//  SetGrid() to make a grid</span></div><div class="line">        <span class="comment">//  SetLabelX() SetLabelY() to setup labels</span></div><div class="line"></div><div class="line">        ChGnuPlot mplot(<span class="stringliteral">&quot;__tmp_gnuplot_2.gpl&quot;</span>);</div><div class="line">        mplot.SetGrid();</div><div class="line"></div><div class="line">        mplot.OutputWindow(0);</div><div class="line">        mplot.SetLabelX(<span class="stringliteral">&quot;x&quot;</span>);</div><div class="line">        mplot.SetLabelY(<span class="stringliteral">&quot;y&quot;</span>);</div><div class="line">        mplot &lt;&lt; <span class="stringliteral">&quot;plot [-30:20] besj0(x)*0.12e1 with impulses, (x**besj0(x))-2.5 with points&quot;</span>;</div><div class="line"></div><div class="line">        mplot.OutputWindow(1);</div><div class="line">        mplot.SetLabelX(<span class="stringliteral">&quot;v&quot;</span>);</div><div class="line">        mplot.SetLabelY(<span class="stringliteral">&quot;w&quot;</span>);</div><div class="line">        mplot &lt;&lt; <span class="stringliteral">&quot;plot [-10:10] real(sin(x)**besj0(x))&quot;</span>;</div><div class="line"></div><div class="line">        mplot.OutputEPS(<span class="stringliteral">&quot;test_eps.eps&quot;</span>);</div><div class="line">        mplot.Replot();  <span class="comment">// repeat last plot</span></div><div class="line">    }</div><div class="line"></div><div class="line">    {</div><div class="line">        <span class="comment">//</span></div><div class="line">        <span class="comment">// EXAMPLE 3</span></div><div class="line">        <span class="comment">//</span></div><div class="line"></div><div class="line">        <span class="comment">// Learn the Plot() shortcut function, for easy plotting from a .dat file (ascii file</span></div><div class="line">        <span class="comment">// with column ordered data).</span></div><div class="line"></div><div class="line">        <span class="comment">// Step 1.</span></div><div class="line">        <span class="comment">// create a .dat file with three columns of demo data:</span></div><div class="line">        <a class="code" href="classchrono_1_1_ch_stream_out_ascii_file.html">ChStreamOutAsciiFile</a> mdatafile(<span class="stringliteral">&quot;test_gnuplot_data.dat&quot;</span>);</div><div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">double</span> x = 0; x &lt; 10; x += 0.1)</div><div class="line">            mdatafile &lt;&lt; x &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; sin(x) &lt;&lt; <span class="stringliteral">&quot;, &quot;</span> &lt;&lt; cos(x) &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div><div class="line"></div><div class="line">        <span class="comment">// Step 2.</span></div><div class="line">        <span class="comment">// Create the plot.</span></div><div class="line">        <span class="comment">// NOTE. The plot shortcuts. In this case you pass the .dat filename, the columns IDs, title and custom settings</span></div><div class="line">        <span class="comment">// NOTE. You can have multiple Plot() calls for a single Output,</span></div><div class="line">        <span class="comment">// they will be overlapped as when you use commas in gnuplot:  &quot;plot ... , ... , ...&quot;</span></div><div class="line">        ChGnuPlot mplot(<span class="stringliteral">&quot;__tmp_gnuplot_3.gpl&quot;</span>);</div><div class="line">        mplot.SetGrid();</div><div class="line">        mplot.SetLabelX(<span class="stringliteral">&quot;x&quot;</span>);</div><div class="line">        mplot.SetLabelY(<span class="stringliteral">&quot;y&quot;</span>);</div><div class="line">        mplot.Plot(<span class="stringliteral">&quot;test_gnuplot_data.dat&quot;</span>, 1, 2, <span class="stringliteral">&quot;sine&quot;</span>, <span class="stringliteral">&quot; with lines lt -1 lw 2&quot;</span>);</div><div class="line">        mplot.Plot(<span class="stringliteral">&quot;test_gnuplot_data.dat&quot;</span>, 1, 3, <span class="stringliteral">&quot;cosine&quot;</span>, <span class="stringliteral">&quot; with lines lt 2 lw 2&quot;</span>);</div><div class="line">    }</div><div class="line"></div><div class="line">    {</div><div class="line">        <span class="comment">//</span></div><div class="line">        <span class="comment">// EXAMPLE 4</span></div><div class="line">        <span class="comment">//</span></div><div class="line"></div><div class="line">        <span class="comment">// The Plot() shortcut function can be used directly on embedded data, without</span></div><div class="line">        <span class="comment">// needing to save a .dat file. One can use, for instance:</span></div><div class="line">        <span class="comment">//  - a pair of x,y vectors (use ChVectorDynamic column matrices)</span></div><div class="line">        <span class="comment">//  - ChFunction y(x) objects</span></div><div class="line">        <span class="comment">//  - columns from a ChMatrix</span></div><div class="line">        <span class="comment">// The values will be saved as embedded in the .gpl file.</span></div><div class="line">        <span class="comment">// Note, the Replot command does not work with embedded data.</span></div><div class="line"></div><div class="line">        <span class="comment">// create demo data in a pair of x,y vectors</span></div><div class="line">        <a class="code" href="classchrono_1_1_ch_vector_dynamic.html">ChVectorDynamic&lt;&gt;</a> mx(100);</div><div class="line">        <a class="code" href="classchrono_1_1_ch_vector_dynamic.html">ChVectorDynamic&lt;&gt;</a> my(100);</div><div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 100; ++i) {</div><div class="line">            <span class="keywordtype">double</span> x = ((double)i / 100.0) * 12;</div><div class="line">            <span class="keywordtype">double</span> y = sin(x) * exp(-x * 0.2);</div><div class="line">            mx(i) = x;</div><div class="line">            my(i) = y;</div><div class="line">        }</div><div class="line">        <span class="comment">// ..or create demo data in a ChFunction_Recorder</span></div><div class="line">        <a class="code" href="classchrono_1_1_ch_function___recorder.html">ChFunction_Recorder</a> mfun;</div><div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 100; ++i) {</div><div class="line">            <span class="keywordtype">double</span> x = ((double)i / 100.0) * 12;</div><div class="line">            <span class="keywordtype">double</span> y = cos(x) * exp(-x * 0.4);</div><div class="line">            mfun.AddPoint(x, y);</div><div class="line">        }</div><div class="line">        <span class="comment">// ..or create demo data in two columns of a ChMatrix</span></div><div class="line">        <a class="code" href="classchrono_1_1_ch_matrix_dynamic.html">ChMatrixDynamic&lt;&gt;</a> matr(100, 10);</div><div class="line">        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 100; ++i) {</div><div class="line">            <span class="keywordtype">double</span> x = ((double)i / 100.0) * 12;</div><div class="line">            <span class="keywordtype">double</span> y = cos(x) * exp(-x * 0.4);</div><div class="line">            matr(i, 2) = x;</div><div class="line">            matr(i, 6) = y * 0.4;</div><div class="line">        }</div><div class="line"></div><div class="line">        <span class="comment">// Create the plot.</span></div><div class="line">        <span class="comment">// NOTE. The plot shortcuts.</span></div><div class="line"></div><div class="line">        ChGnuPlot mplot(<span class="stringliteral">&quot;__tmp_gnuplot_4.gpl&quot;</span>);</div><div class="line">        mplot.SetGrid();</div><div class="line">        mplot.Plot(mx, my, <span class="stringliteral">&quot;from x,y ChVectorDynamic&quot;</span>, <span class="stringliteral">&quot; every 5 pt 1 ps 0.5&quot;</span>);</div><div class="line">        mplot.Plot(mfun, <span class="stringliteral">&quot;from ChFunction_Recorder&quot;</span>, <span class="stringliteral">&quot; with lines lt -1 lc rgb&#39;#00AAEE&#39; &quot;</span>);</div><div class="line">        mplot.Plot(matr, 2, 6, <span class="stringliteral">&quot;from ChMatrix&quot;</span>, <span class="stringliteral">&quot; with lines lt 5&quot;</span>);</div><div class="line">    }</div><div class="line"></div><div class="line">    <a class="code" href="namespacechrono.html#a4fba60cf9a29db628ad96a88b60b4e00">GetLog</a>() &lt;&lt; <span class="stringliteral">&quot;\n  CHRONO execution terminated.&quot;</span>;</div><div class="line"></div><div class="line">    <span class="comment">// system(&quot;pause&quot;);</span></div><div class="line">    <span class="keywordflow">return</span> 0;</div><div class="line">}</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 1 2016 15:43:11 for Project Chrono by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11 . <a href="mailto:info@projectchrono.org">Contact us</a> for issues related to this page. 
</small></address>
</body>
</html>
