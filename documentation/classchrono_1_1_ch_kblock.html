<!-- HTML header for doxygen 1.8.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- For Mobile Devices -->
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta name="generator" content="Doxygen 1.8.11"/>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <link rel="stylesheet" href='http://fonts.googleapis.com/css?family=Exo+2:400,200,700' type='text/css'>
    <title>Project Chrono: chrono::ChKblock Class Reference</title>
    <!--<link href="tabs.css" rel="stylesheet" type="text/css"/>-->
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
    <link href="main.css" rel="stylesheet" type="text/css" />
    <!--  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"> -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="doxy-boot.js"></script>
    <script type="text/javascript" src="bootstrap-hover-dropdown.min.js"></script>
</head>
<body>
    <nav class="navbar navbar-default" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://projectchrono.org">
            <span class="logo first">PROJECT</span><span class="logo second">CHRONO</span>
        </a>
    </div>
    <div class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="http://projectchrono.org/download">Download</a></li>
        <li class="dropdown">
            <a href="http://api.chrono.projectchrono.org" class="dropdown-toggle disabled" data-hover="dropdown" data-toggle="dropdown" data-delay="100" role="button" aria-haspopup="true" aria-expanded="false">Documentation <span class="caret"></span></a>
            <ul class="dropdown-menu">
                <li><a href="http://api.chrono.projectchrono.org/faq_root.html">FAQ</a></li>
                <li><a href="http://api.chrono.projectchrono.org/tutorial_table_of_content_install.html">Install Guide</a></li>
                <li><a href="http://api.chrono.projectchrono.org/tutorial_root.html">Examples/Tutorials</a></li>
                <li><a href="http://api.chrono.projectchrono.org/model_root.html">Model Library</a></li>
                <li><a href="http://api.chrono.projectchrono.org/validation_studies_root.html">Validation Studies</a></li>
                <li><a href="http://api.chrono.projectchrono.org/whitepaper_root.html">White Papers</a></li>
                <li><a href="http://projectchrono.org/docpdf">PDF Version</a></li>
            </ul>
        </li>
        <li class="dropdown">
            <a href="http://projectchrono.org/gallery/" class="dropdown-toggle disabled" data-hover="dropdown" data-toggle="dropdown" data-delay="100" role="button" style="dropdown:hover" aria-haspopup="true" aria-expanded="false">Movies <span class="caret"></span></a>
            <ul class="dropdown-menu">
                <li><a href="http://projectchrono.org/gallery/">Gallery</a></li>
                <li><a href="http://sbel.wisc.edu/Animations/">SBEL</a></li>
                <li><a href="https://vimeo.com/uwsbel">On Vimeo</a></li>
            </ul>
        </li>
        <li><a href="http://projectchrono.org/news/">News</a></li>
        <li><a href="http://projectchrono.org/forum">Forum</a></li>
		<li class="dropdown">
            <a href="http://projectchrono.org/about/" class="dropdown-toggle disabled" data-hover="dropdown" data-toggle="dropdown" data-delay="100" role="button" aria-haspopup="true" aria-expanded="false">About <span class="caret"></span></a>
            <ul class="dropdown-menu">
                <li><a href="http://projectchrono.org/about/">What is ProjectChrono</a></li>
                <li><a href="http://projectchrono.org/testimonials/">Users</a></li>
            </ul>
        </li>
        <li><a href="http://projectchrono.org/status">Status</a></li>            
            <li>
              <form method="get" action="http://projectchrono.org/search" id="search_bar_triggered">
                          <input type="submit" value="Search">
                <input type="text" id="search_bar" name="query" value="" />
              </form> 
            </li>
    </ul>
          <!-- <ul class="nav navbar-nav navbar-right">
      </ul> -->
  </div><!--/.navbar-collapse -->
</div>
</nav>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div class="content" id="content">
        <div class="container">
            <div class="row">
                <div class="col-sm-12 panel panel-default" style="padding-bottom: 15px;">
                    <div style="margin-bottom: 15px;">
                        <!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacechrono.html">chrono</a></li><li class="navelem"><a class="el" href="classchrono_1_1_ch_kblock.html">ChKblock</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classchrono_1_1_ch_kblock-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">chrono::ChKblock Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>Base class for representing items which introduce block-sparse matrices, that is blocks that connect some 'variables' and build a matrix K in a sparse variational inequality VI(Z*x-d,K): </p>
<p>| M+K -Cq'|*|q|- | f|= |0| , l  Y, C  Ny, normal cone to Y | Cq -E | |l| |-b| |c|</p>
<p>Also Z symmetric by flipping sign of l_i: |M+K Cq'|*| q|-| f|=|0| |Cq E | |-l| |-b| |c|</p><ul>
<li>case linear problem: all Y_i = R, Ny=0, ex. all bilaterals</li>
<li>case LCP: all Y_i = R+: c&gt;=0, l&gt;=0, l*c=0</li>
<li>case CCP: Y_i are friction cones Note that K blocks often have a physical interpretation as stiffness, but not always, for example they can represent hessians. Note that all blocks in K, all masses and constraint jacobians Cq are not really assembled in large matrices, so to exploit sparsity. </li>
</ul>
</div>
<p><code>#include &lt;ChKblock.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for chrono::ChKblock:</div>
<div class="dyncontent">
<div class="center"><img src="classchrono_1_1_ch_kblock__inherit__graph.png" border="0" usemap="#chrono_1_1_ch_kblock_inherit__map" alt="Inheritance graph"/></div>
<map name="chrono_1_1_ch_kblock_inherit__map" id="chrono_1_1_ch_kblock_inherit__map">
<area shape="rect" id="node2" href="classchrono_1_1_ch_kblock_generic.html" title="Class that represent nxn sparse blocks to put into K global matrix, that is blocks that connect N &#39;va..." alt="" coords="5,80,176,107"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3723ec8325795c8931c73f7a56a89ff5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3723ec8325795c8931c73f7a56a89ff5"></a>
virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchrono_1_1_ch_kblock.html#a3723ec8325795c8931c73f7a56a89ff5">GetNvars</a> () const =0</td></tr>
<tr class="memdesc:a3723ec8325795c8931c73f7a56a89ff5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of referenced <a class="el" href="classchrono_1_1_ch_variables.html" title="Base class for representing items which introduce &#39;variables&#39;, that is variables &#39;v&#39; (and associated ...">ChVariables</a> items. <br /></td></tr>
<tr class="separator:a3723ec8325795c8931c73f7a56a89ff5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d2eaaf697bf90ece6499e59a0b45e02"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6d2eaaf697bf90ece6499e59a0b45e02"></a>
virtual <a class="el" href="classchrono_1_1_ch_matrix.html">ChMatrix</a>&lt; double &gt; *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchrono_1_1_ch_kblock.html#a6d2eaaf697bf90ece6499e59a0b45e02">Get_K</a> ()=0</td></tr>
<tr class="memdesc:a6d2eaaf697bf90ece6499e59a0b45e02"><td class="mdescLeft">&#160;</td><td class="mdescRight">Access the K stiffness matrix as a single block, referring only to the referenced ChVariable objects. <br /></td></tr>
<tr class="separator:a6d2eaaf697bf90ece6499e59a0b45e02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a959a207617f395fe1a34453250fb1d0d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchrono_1_1_ch_kblock.html#a959a207617f395fe1a34453250fb1d0d">MultiplyAndAdd</a> (<a class="el" href="classchrono_1_1_ch_matrix.html">ChMatrix</a>&lt; double &gt; &amp;result, const <a class="el" href="classchrono_1_1_ch_matrix.html">ChMatrix</a>&lt; double &gt; &amp;vect) const =0</td></tr>
<tr class="memdesc:a959a207617f395fe1a34453250fb1d0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Computes the product of the corresponding blocks in the system matrix (ie.  <a href="#a959a207617f395fe1a34453250fb1d0d">More...</a><br /></td></tr>
<tr class="separator:a959a207617f395fe1a34453250fb1d0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5d73e813d911b7732df182368a6a1927"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchrono_1_1_ch_kblock.html#a5d73e813d911b7732df182368a6a1927">DiagonalAdd</a> (<a class="el" href="classchrono_1_1_ch_matrix.html">ChMatrix</a>&lt; double &gt; &amp;result)=0</td></tr>
<tr class="memdesc:a5d73e813d911b7732df182368a6a1927"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the diagonal of the stiffness matrix block(s) as a column vector to 'result'.  <a href="#a5d73e813d911b7732df182368a6a1927">More...</a><br /></td></tr>
<tr class="separator:a5d73e813d911b7732df182368a6a1927"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34b254456936f2df855bc94b12f7b2e9"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchrono_1_1_ch_kblock.html#a34b254456936f2df855bc94b12f7b2e9">Build_K</a> (<a class="el" href="classchrono_1_1_ch_sparse_matrix.html">ChSparseMatrix</a> &amp;storage, bool add=true)=0</td></tr>
<tr class="memdesc:a34b254456936f2df855bc94b12f7b2e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Writes (and adds) the K matrix associated to these variables into a global 'storage' matrix, at the offsets of variables.  <a href="#a34b254456936f2df855bc94b12f7b2e9">More...</a><br /></td></tr>
<tr class="separator:a34b254456936f2df855bc94b12f7b2e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a34b254456936f2df855bc94b12f7b2e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void chrono::ChKblock::Build_K </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classchrono_1_1_ch_sparse_matrix.html">ChSparseMatrix</a> &amp;&#160;</td>
          <td class="paramname"><em>storage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>add</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Writes (and adds) the K matrix associated to these variables into a global 'storage' matrix, at the offsets of variables. </p>
<p>Most solvers do not need this: the sparse 'storage' matrix is used for testing, for direct solvers, for dumping full matrix to Matlab for checks, etc. </p>

<p>Implemented in <a class="el" href="classchrono_1_1_ch_kblock_generic.html#a14c2c176aac32ce5e1755e3ec40d0a2a">chrono::ChKblockGeneric</a>.</p>

</div>
</div>
<a class="anchor" id="a5d73e813d911b7732df182368a6a1927"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void chrono::ChKblock::DiagonalAdd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classchrono_1_1_ch_matrix.html">ChMatrix</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add the diagonal of the stiffness matrix block(s) as a column vector to 'result'. </p>
<p>NOTE: the 'result' vector must already have the size of system unknowns, ie the size of the total variables&amp;constraints in the system; the procedure will use the ChVariable offsets (that must be already updated) as index. </p>

<p>Implemented in <a class="el" href="classchrono_1_1_ch_kblock_generic.html#afdcb17da3c7608a3ba2bb8a7af9822cc">chrono::ChKblockGeneric</a>.</p>

</div>
</div>
<a class="anchor" id="a959a207617f395fe1a34453250fb1d0d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void chrono::ChKblock::MultiplyAndAdd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classchrono_1_1_ch_matrix.html">ChMatrix</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="classchrono_1_1_ch_matrix.html">ChMatrix</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>vect</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Computes the product of the corresponding blocks in the system matrix (ie. </p>
<p>the K matrix blocks) by 'vect', and add to 'result'. NOTE: the 'vect' and 'result' vectors must already have the size of the total variables&amp;constraints in the system; the procedure will use the ChVariable offsets (that must be already updated) to know the indexes in result and vect. </p>

<p>Implemented in <a class="el" href="classchrono_1_1_ch_kblock_generic.html#a4cd28cf601432a8962f6424161baca95">chrono::ChKblockGeneric</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.8-->
<!-- start footer part -->
</div>
</div>
</div>
</div>
</div>
<hr class="footer"/><address class="footer"><small>
Generated on Mon Aug 1 2016 15:43:14 for Project Chrono by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11 . <a href="mailto:info@projectchrono.org">Contact us</a> for issues related to this page. 
</small></address>
</body>
</html>
